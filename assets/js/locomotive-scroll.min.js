!function(b,a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define(a):(b="undefined"!=typeof globalThis?globalThis:b||self).LocomotiveScroll=a()}(this,function(){"use strict";function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function j(c,d){var a=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);d&&(b=b.filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable})),a.push.apply(a,b)}return a}function k(c){for(var a=1;a<arguments.length;a++){var b=null!=arguments[a]?arguments[a]:{};a%2?j(Object(b),!0).forEach(function(a){i(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):j(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))})}return c}function l(b,a){var c,d;if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&(c=b,d=a,(Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(c,d))}function m(a){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function n(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function o(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}();return function(){var e,c,d,f=m(a);if(b){var g=m(this).constructor;d=Reflect.construct(f,arguments,g)}else d=f.apply(this,arguments);return e=this,(c=d)&&("object"==typeof c||"function"==typeof c)?c:n(e)}}function p(a,b,c){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(d,b,e){var c=function(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&null!==(a=m(a)););return a}(d,b);if(c){var a=Object.getOwnPropertyDescriptor(c,b);return a.get?a.get.call(e):a.value}})(a,b,c||a)}function q(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(d,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(d)){var a=[],b=!0,f=!1,g=void 0;try{for(var h,c=d[Symbol.iterator]();!(b=(h=c.next()).done)&&(a.push(h.value),!e||a.length!==e);b=!0);}catch(i){f=!0,g=i}finally{try{b||null==c.return||c.return()}finally{if(f)throw g}}return a}}(a,b)||r(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(a,c){if(a){if("string"==typeof a)return s(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);return"Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b?Array.from(a):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?s(a,c):void 0}}function s(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}var t={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1025},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},u=function(){function a(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};f(this,a),Object.assign(this,t,b),this.smartphone=t.smartphone,b.smartphone&&Object.assign(this.smartphone,b.smartphone),this.tablet=t.tablet,b.tablet&&Object.assign(this.tablet,b.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return h(a,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var a=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){a.resize(),a.resizeTick=!1}))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var a=this.context;this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",a!=this.context&&("desktop"==a?this.smooth:this[a].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var a=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(function(b){b.addEventListener("click",a.setScrollTo,!1)})}},{key:"setScrollTo",value:function(a){a.preventDefault(),this.scrollTo(a.currentTarget.getAttribute("data-".concat(this.name,"-href"))||a.currentTarget.getAttribute("href"),{offset:a.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(c){var d=this,a=this.instance.scroll.y,e=a+this.windowHeight,b=this.instance.scroll.x,f=b+this.windowWidth;Object.entries(this.els).forEach(function(j){var i=q(j,2),h=i[0],g=i[1];if(!g||g.inView&&!c||("horizontal"===d.direction?f>=g.left&&b<g.right&&d.setInView(g,h):e>=g.top&&a<g.bottom&&d.setInView(g,h)),g&&g.inView){if("horizontal"===d.direction){var k=g.right-g.left;g.progress=(d.instance.scroll.x-(g.left-d.windowWidth))/(k+d.windowWidth),(f<g.left||b>g.right)&&d.setOutOfView(g,h)}else{var l=g.bottom-g.top;g.progress=(d.instance.scroll.y-(g.top-d.windowHeight))/(l+d.windowHeight),(e<g.top||a>g.bottom)&&d.setOutOfView(g,h)}}}),this.hasScrollTicking=!1}},{key:"setInView",value:function(a,b){this.els[b].inView=!0,a.el.classList.add(a.class),this.currentElements[b]=a,a.call&&this.hasCallEventSet&&(this.dispatchCall(a,"enter"),a.repeat||(this.els[b].call=!1))}},{key:"setOutOfView",value:function(a,b){var c=this;this.els[b].inView=!1,Object.keys(this.currentElements).forEach(function(a){a===b&&delete c.currentElements[a]}),a.call&&this.hasCallEventSet&&this.dispatchCall(a,"exit"),a.repeat&&a.el.classList.remove(a.class)}},{key:"dispatchCall",value:function(a,b){this.callWay=b,this.callValue=a.call.split(",").map(function(a){return a.trim()}),this.callObj=a,1==this.callValue.length&&(this.callValue=this.callValue[0]);var c=new Event(this.namespace+"call");this.el.dispatchEvent(c)}},{key:"dispatchScroll",value:function(){var a=new Event(this.namespace+"scroll");this.el.dispatchEvent(a)}},{key:"setEvents",value:function(a,c){this.listeners[a]||(this.listeners[a]=[]);var b=this.listeners[a];b.push(c),1===b.length&&this.el.addEventListener(this.namespace+a,this.checkEvent,!1),"call"===a&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(a,d){if(this.listeners[a]){var b=this.listeners[a],c=b.indexOf(d);c<0||(b.splice(c,1),0===b.index&&this.el.removeEventListener(this.namespace+a,this.checkEvent,!1))}}},{key:"checkEvent",value:function(b){var d=this,c=b.type.replace(this.namespace,""),a=this.listeners[c];a&&0!==a.length&&a.forEach(function(a){switch(c){case"scroll":return a(d.instance);case"call":return a(d.callValue,d.callWay,d.callObj);default:return a()}})}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(a,b){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var a=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach(function(b){a.el.removeEventListener(a.namespace+b,a.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(function(b){b.removeEventListener("click",a.setScrollTo,!1)}),this.html.classList.remove(this.initClass)}}]),a}(),v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function b(b,a){return b(a={exports:{}},a.exports),a.exports}var d=b(function(a,b){a.exports={polyfill:function(){var a=window,d=document;if(!("scrollBehavior"in d.documentElement.style)|| !0===a.__forceSmoothScrollPolyfill__){var c,b=a.HTMLElement||a.Element,e={scroll:a.scroll||a.scrollTo,scrollBy:a.scrollBy,elementScroll:b.prototype.scroll||h,scrollIntoView:b.prototype.scrollIntoView},f=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now,g=(c=a.navigator.userAgent,new RegExp("MSIE |Trident/|Edge/").test(c)?1:0);a.scroll=a.scrollTo=function(){void 0!==arguments[0]&&(!0!==i(arguments[0])?m.call(a,d.body,void 0!==arguments[0].left?~~arguments[0].left:a.scrollX||a.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:a.scrollY||a.pageYOffset):e.scroll.call(a,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:a.scrollX||a.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:a.scrollY||a.pageYOffset))},a.scrollBy=function(){void 0!==arguments[0]&&(i(arguments[0])?e.scrollBy.call(a,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):m.call(a,d.body,~~arguments[0].left+(a.scrollX||a.pageXOffset),~~arguments[0].top+(a.scrollY||a.pageYOffset)))},b.prototype.scroll=b.prototype.scrollTo=function(){if(void 0!==arguments[0]){if(!0!==i(arguments[0])){var a=arguments[0].left,b=arguments[0].top;m.call(this,this,void 0===a?this.scrollLeft:~~a,void 0===b?this.scrollTop:~~b)}else{if("number"==typeof arguments[0]&& void 0===arguments[1])throw new SyntaxError("Value could not be converted");e.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}}},b.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==i(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):e.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},b.prototype.scrollIntoView=function(){if(!0!==i(arguments[0])){var b=function(a){for(;a!==d.body&& !1===l(a);)a=a.parentNode||a.host;return a}(this),c=b.getBoundingClientRect(),f=this.getBoundingClientRect();b!==d.body?(m.call(this,b,b.scrollLeft+f.left-c.left,b.scrollTop+f.top-c.top),"fixed"!==a.getComputedStyle(b).position&&a.scrollBy({left:c.left,top:c.top,behavior:"smooth"})):a.scrollBy({left:f.left,top:f.top,behavior:"smooth"})}else e.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function h(a,b){this.scrollLeft=a,this.scrollTop=b}function i(a){if(null===a||"object"!=typeof a|| void 0===a.behavior||"auto"===a.behavior||"instant"===a.behavior)return!0;if("object"==typeof a&&"smooth"===a.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+a.behavior+" is not a valid value for enumeration ScrollBehavior.")}function j(a,b){return"Y"===b?a.clientHeight+g<a.scrollHeight:"X"===b?a.clientWidth+g<a.scrollWidth:void 0}function k(c,d){var b=a.getComputedStyle(c,null)["overflow"+d];return"auto"===b||"scroll"===b}function l(a){var b=j(a,"Y")&&k(a,"Y"),c=j(a,"X")&&k(a,"X");return b||c}function m(b,k,l){var c,g,i,j,m=f();b===d.body?(c=a,g=a.scrollX||a.pageXOffset,i=a.scrollY||a.pageYOffset,j=e.scroll):(c=b,g=b.scrollLeft,i=b.scrollTop,j=h),function h(b){var c,d,e,g=(f()-b.startTime)/468;c=.5*(1-Math.cos(Math.PI*(g=g>1?1:g))),d=b.startX+(b.x-b.startX)*c,e=b.startY+(b.y-b.startY)*c,b.method.call(b.scrollable,d,e),d===b.x&&e===b.y||a.requestAnimationFrame(h.bind(a,b))}({scrollable:c,method:j,startTime:m,startX:g,startY:i,x:k,y:l})}}}}),w=(d.polyfill,function(b){l(a,u);var c=o(a);function a(){var b,e=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return f(this,a),(b=c.call(this,e)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",b.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=d,window.smoothscrollPolyfill.polyfill()),b}return h(a,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),p(m(a.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var b=this;p(m(a.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame(function(){b.detectElements()}),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var a=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach(function(b,m){b.getBoundingClientRect();var f,g,c,h=b.dataset[a.name+"Class"]||a.class,d="string"==typeof b.dataset[a.name+"Id"]?b.dataset[a.name+"Id"]:m,i="string"==typeof b.dataset[a.name+"Offset"]?b.dataset[a.name+"Offset"].split(","):a.offset,e=b.dataset[a.name+"Repeat"],n=b.dataset[a.name+"Call"],j=b.dataset[a.name+"Target"],k=(c=void 0!==j?document.querySelector("".concat(j)):b).getBoundingClientRect();f=k.top+a.instance.scroll.y,g=k.left+a.instance.scroll.x;var o=f+c.offsetHeight,p=g+c.offsetWidth;e="false"!=e&&(null!=e||a.repeat);var l=a.getRelativeOffset(i),q={el:b,targetEl:c,id:d,class:h,top:f+=l[0],bottom:o-=l[1],left:g,right:p,offset:i,progress:0,repeat:e,inView:!1,call:n};a.els[d]=q,b.classList.contains(h)&&a.setInView(a.els[d],d)})}},{key:"updateElements",value:function(){var a=this;Object.entries(this.els).forEach(function(g){var c=q(g,2),d=c[0],b=c[1],e=b.targetEl.getBoundingClientRect().top+a.instance.scroll.y,h=e+b.targetEl.offsetHeight,f=a.getRelativeOffset(b.offset);a.els[d].top=e+f[0],a.els[d].bottom=h-f[1]}),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(b){var c=[0,0];if(b)for(var a=0;a<b.length;a++)"string"==typeof b[a]?b[a].includes("%")?c[a]=parseInt(b[a].replace("%","")*this.windowHeight/100):c[a]=parseInt(b[a]):c[a]=b[a];return c}},{key:"scrollTo",value:function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},c=parseInt(b.offset)||0,d=!!b.callback&&b.callback;if("string"==typeof a){if("top"===a)a=this.html;else if("bottom"===a)a=this.html.offsetHeight-window.innerHeight;else if(!(a=document.querySelector(a)))return}else if("number"==typeof a)a=parseInt(a);else if(!a||!a.tagName)return void console.warn("`target` parameter is not valid");c="number"!=typeof a?a.getBoundingClientRect().top+c+this.instance.scroll.y:a+c;var e=function(){return parseInt(window.pageYOffset)===parseInt(c)};if(d){if(e())return void d();window.addEventListener("scroll",function a(){e()&&(window.removeEventListener("scroll",a),d())})}window.scrollTo({top:c,behavior:0===b.duration?"auto":"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){p(m(a.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),a}()),x=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,A=!function(){try{if(!Object.assign)return!1;var b=new String("abc");if(b[5]="de","5"===Object.getOwnPropertyNames(b)[0])return!1;for(var c={},a=0;a<10;a++)c["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(c).map(function(a){return c[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(e){return!1}}()?function(g,h){for(var a,b,d=function(a){if(null==a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}(g),e=1;e<arguments.length;e++){for(var f in a=Object(arguments[e]))y.call(a,f)&&(d[f]=a[f]);if(x){b=x(a);for(var c=0;c<b.length;c++)z.call(a,b[c])&&(d[b[c]]=a[b[c]])}}return d}:Object.assign;function c(){}c.prototype={on:function(a,c,d){var b=this.e||(this.e={});return(b[a]||(b[a]=[])).push({fn:c,ctx:d}),this},once:function(b,c,d){var e=this;function a(){e.off(b,a),c.apply(d,arguments)}return a._=c,this.on(b,a,d)},emit:function(c){for(var d=[].slice.call(arguments,1),b=((this.e||(this.e={}))[c]||[]).slice(),a=0,e=b.length;a<e;a++)b[a].fn.apply(b[a].ctx,d);return this},off:function(c,d){var e=this.e||(this.e={}),a=e[c],f=[];if(a&&d)for(var b=0,g=a.length;b<g;b++)a[b].fn!==d&&a[b].fn._!==d&&f.push(a[b]);return f.length?e[c]=f:delete e[c],this}};var B=c,e=b(function(a,b){(function(){(null!==b?b:this).Lethargy=function(){function a(a,b,c,d){this.stability=null!=a?Math.abs(a):8,this.sensitivity=null!=b?1+Math.abs(b):100,this.tolerance=null!=c?1+Math.abs(c):1.1,this.delay=null!=d?d:150,this.lastUpDeltas=(function(){var a,b,c;for(c=[],a=1,b=2*this.stability;1<=b?a<=b:a>=b;1<=b?a++:a--)c.push(null);return c}).call(this),this.lastDownDeltas=(function(){var a,b,c;for(c=[],a=1,b=2*this.stability;1<=b?a<=b:a>=b;1<=b?a++:a--)c.push(null);return c}).call(this),this.deltasTimestamp=(function(){var a,b,c;for(c=[],a=1,b=2*this.stability;1<=b?a<=b:a>=b;1<=b?a++:a--)c.push(null);return c}).call(this)}return a.prototype.check=function(a){var b;return null!=(a=a.originalEvent||a).wheelDelta?b=a.wheelDelta:null!=a.deltaY?b=-40*a.deltaY:null==a.detail&&0!==a.detail||(b=-40*a.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),b>0?(this.lastUpDeltas.push(b),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(b),this.lastDownDeltas.shift(),this.isInertia(-1))},a.prototype.isInertia=function(b){var a,c,d,e,f,g,h;return null===(a=-1===b?this.lastDownDeltas:this.lastUpDeltas)[0]?b:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&a[0]===a[2*this.stability-1])&&(d=a.slice(0,this.stability),c=a.slice(this.stability,2*this.stability),h=d.reduce(function(a,b){return a+b}),f=c.reduce(function(a,b){return a+b}),g=h/d.length,e=f/c.length,Math.abs(g)<Math.abs(e*this.tolerance)&&this.sensitivity<Math.abs(e)&&b)},a.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},a.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},a}()}).call(v)}),C="onwheel"in document,D="onmousewheel"in document,E="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,F=navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,G=!!window.navigator.msPointerEnabled,_="onkeydown"in document,H=navigator.userAgent.indexOf("Firefox")> -1,I=Object.prototype.toString,J=Object.prototype.hasOwnProperty;function K(a,b){return function(){return a.apply(b,arguments)}}var L=e.Lethargy,M="virtualscroll",N=a;function a(a){!function(a){if(!a)return console.warn("bindAll requires at least one argument.");var b=Array.prototype.slice.call(arguments,1);if(0===b.length)for(var c in a)J.call(a,c)&&"function"==typeof a[c]&&"[object Function]"==I.call(a[c])&&b.push(c);for(var d=0;d<b.length;d++){var e=b[d];a[e]=K(a[e],a)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,a&&a.el&&(this.el=a.el,delete a.el),this.options=A({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},a),this.options.limitInertia&&(this._lethargy=new L),this._emitter=new B,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function O(b,c,a){return(1-a)*b+a*c}function P(e){var b={};if(window.getComputedStyle){var c=getComputedStyle(e),d=c.transform||c.webkitTransform||c.mozTransform,a=d.match(/^matrix3d\((.+)\)$/);return a?(b.x=a?parseFloat(a[1].split(", ")[12]):0,b.y=a?parseFloat(a[1].split(", ")[13]):0):(a=d.match(/^matrix\((.+)\)$/),b.x=a?parseFloat(a[1].split(", ")[4]):0,b.y=a?parseFloat(a[1].split(", ")[5]):0),b}}function Q(a){for(var b=[];a&&a!==document;a=a.parentNode)b.push(a);return b}a.prototype._notify=function(b){var a=this._event;a.x+=a.deltaX,a.y+=a.deltaY,this._emitter.emit(M,{x:a.x,y:a.y,deltaX:a.deltaX,deltaY:a.deltaY,originalEvent:b})},a.prototype._onWheel=function(a){var c=this.options;if(!this._lethargy|| !1!==this._lethargy.check(a)){var b=this._event;b.deltaX=a.wheelDeltaX|| -1*a.deltaX,b.deltaY=a.wheelDeltaY|| -1*a.deltaY,H&&1==a.deltaMode&&(b.deltaX*=c.firefoxMultiplier,b.deltaY*=c.firefoxMultiplier),b.deltaX*=c.mouseMultiplier,b.deltaY*=c.mouseMultiplier,this._notify(a)}},a.prototype._onMouseWheel=function(a){if(!this.options.limitInertia|| !1!==this._lethargy.check(a)){var b=this._event;b.deltaX=a.wheelDeltaX?a.wheelDeltaX:0,b.deltaY=a.wheelDeltaY?a.wheelDeltaY:a.wheelDelta,this._notify(a)}},a.prototype._onTouchStart=function(a){var b=a.targetTouches?a.targetTouches[0]:a;this.touchStartX=b.pageX,this.touchStartY=b.pageY},a.prototype._onTouchMove=function(a){var b=this.options;b.preventTouch&&!a.target.classList.contains(b.unpreventTouchClass)&&a.preventDefault();var d=this._event,c=a.targetTouches?a.targetTouches[0]:a;d.deltaX=(c.pageX-this.touchStartX)*b.touchMultiplier,d.deltaY=(c.pageY-this.touchStartY)*b.touchMultiplier,this.touchStartX=c.pageX,this.touchStartY=c.pageY,this._notify(a)},a.prototype._onKeyDown=function(b){var a=this._event;a.deltaX=a.deltaY=0;var c=window.innerHeight-40;switch(b.keyCode){case 37:case 38:a.deltaY=this.options.keyStep;break;case 39:case 40:a.deltaY=-this.options.keyStep;break;case b.shiftKey:a.deltaY=c;break;case 32:a.deltaY=-c;break;default:return}this._notify(b)},a.prototype._bind=function(){C&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),D&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),E&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),G&&F&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),_&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},a.prototype._unbind=function(){C&&this.el.removeEventListener("wheel",this._onWheel),D&&this.el.removeEventListener("mousewheel",this._onMouseWheel),E&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),G&&F&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),_&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},a.prototype.on=function(b,c){this._emitter.on(M,b,c);var a=this._emitter.e;a&&a[M]&&1===a[M].length&&this._bind()},a.prototype.off=function(b,c){this._emitter.off(M,b,c);var a=this._emitter.e;(!a[M]||a[M].length<=0)&&this._unbind()},a.prototype.reset=function(){var a=this._event;a.x=0,a.y=0},a.prototype.destroy=function(){this._emitter.off(),this._unbind()};var R="function"==typeof Float32Array;function S(a,b){return 1-3*b+3*a}function T(a,b){return 3*b-6*a}function $(a,b,c){var d;return((S(b,c)*a+T(b,c))*a+3*b)*a}function U(a,b,c){var d;return 3*S(b,c)*a*a+2*T(b,c)*a+3*b}function V(a){return a}var W=function(b){l(a,u);var c=o(a);function a(){var b,d=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};return f(this,a),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(b=c.call(this,d)).inertia&&(b.lerp=.1*b.inertia),b.isScrolling=!1,b.isDraggingScrollbar=!1,b.isTicking=!1,b.hasScrollTicking=!1,b.parallaxElements={},b.stop=!1,b.scrollbarContainer=d.scrollbarContainer,b.checkKey=b.checkKey.bind(n(b)),window.addEventListener("keydown",b.checkKey,!1),b}return h(a,[{key:"init",value:function(){var b=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=k({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new N({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")> -1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on(function(a){b.stop||b.isDraggingScrollbar||requestAnimationFrame(function(){b.updateDelta(a),b.isScrolling||b.startScrolling()})}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),p(m(a.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var b=0,c=this.el.children,a=0;a<c.length;a++)b+=c[a].offsetWidth;this.instance.limit.x=b-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(a){var b=this;if(this.stop)9==a.keyCode&&requestAnimationFrame(function(){b.html.scrollTop=0,document.body.scrollTop=0,b.html.scrollLeft=0,document.body.scrollLeft=0});else{switch(a.keyCode){case 9:requestAnimationFrame(function(){b.html.scrollTop=0,document.body.scrollTop=0,b.html.scrollLeft=0,document.body.scrollLeft=0,b.scrollTo(document.activeElement,{offset:-window.innerHeight/2})});break;case 38:this.instance.delta[this.directionAxis]-=240;break;case 40:this.instance.delta[this.directionAxis]+=240;break;case 33:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case 34:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case 36:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case 35:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case 32:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(a.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"checkScroll",value:function(){var f=this,d=arguments.length>0&& void 0!==arguments[0]&&arguments[0];if(d||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame(function(){return f.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll();var b=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),e=Date.now()-this.startScrollTs;if(!this.animatingScroll&&e>100&&(b<.5&&0!=this.instance.delta[this.directionAxis]||b<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach(function(c){var b=q(c,2),a=(b[0],b[1]);a.persistent||f.instance.scroll[f.directionAxis]>a.offset[f.directionAxis]&&f.instance.scroll[f.directionAxis]<a.limit[f.directionAxis]?("horizontal"===f.direction?f.transform(a.el,-f.instance.scroll[f.directionAxis],0):f.transform(a.el,0,-f.instance.scroll[f.directionAxis]),a.inView||(a.inView=!0,a.el.style.opacity=1,a.el.style.pointerEvents="all",a.el.setAttribute("data-".concat(f.name,"-section-inview"),""))):((a.inView||d)&&(a.inView=!1,a.el.style.opacity=0,a.el.style.pointerEvents="none",a.el.removeAttribute("data-".concat(f.name,"-section-inview"))),f.transform(a.el,0,0))}),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var c=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,c,0):this.transform(this.scrollbarThumb,0,c)}p(m(a.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(a){var c,b=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;c="both"===b?a.deltaX+a.deltaY:"vertical"===b?a.deltaY:"horizontal"===b?a.deltaX:a.deltaY,this.instance.delta[this.directionAxis]-=c*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(a){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=O(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(a){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(a){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(a){var b=this;this.isDraggingScrollbar&&requestAnimationFrame(function(){var c=100*(a.clientX-b.scrollbarBCR.left)/b.scrollbarWidth*b.instance.limit.x/100,d=100*(a.clientY-b.scrollbarBCR.top)/b.scrollbarHeight*b.instance.limit.y/100;d>0&&d<b.instance.limit.y&&(b.instance.delta.y=d),c>0&&c<b.instance.limit.x&&(b.instance.delta.x=c)})}},{key:"addElements",value:function(){var a=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach(function(b,z){var e,f,g,E=Q(b),i=Object.entries(a.sections).map(function(b){var a=q(b,2);return a[0],a[1]}).find(function(a){return E.includes(a.el)}),p=b.dataset[a.name+"Class"]||a.class,j="string"==typeof b.dataset[a.name+"Id"]?b.dataset[a.name+"Id"]:"el"+z,l=b.dataset[a.name+"Repeat"],A=b.dataset[a.name+"Call"],B=b.dataset[a.name+"Position"],C=b.dataset[a.name+"Delay"],D=b.dataset[a.name+"Direction"],o="string"==typeof b.dataset[a.name+"Sticky"],r=!!b.dataset[a.name+"Speed"]&&parseFloat(b.dataset[a.name+"Speed"])/10,d="string"==typeof b.dataset[a.name+"Offset"]?b.dataset[a.name+"Offset"].split(","):a.offset,s=b.dataset[a.name+"Target"],m=(g=void 0!==s?document.querySelector("".concat(s)):b).getBoundingClientRect();null===i||i.inView?(e=m.top+a.instance.scroll.y-P(g).y,f=m.left+a.instance.scroll.x-P(g).x):(e=m.top-P(i.el).y-P(g).y,f=m.left-P(i.el).x-P(g).x);var k=e+g.offsetHeight,n=f+g.offsetWidth,t={x:(n-f)/2+f,y:(k-e)/2+e};if(o){var u=b.getBoundingClientRect(),v=u.top,w=u.left,x={x:w-f,y:v-e};e+=window.innerHeight,f+=window.innerWidth,k=v+g.offsetHeight-b.offsetHeight-x[a.directionAxis],t={x:((n=w+g.offsetWidth-b.offsetWidth-x[a.directionAxis])-f)/2+f,y:(k-e)/2+e}}l="false"!=l&&(null!=l||a.repeat);var h=[0,0];if(d){if("horizontal"===a.direction){for(var c=0;c<d.length;c++)"string"==typeof d[c]?d[c].includes("%")?h[c]=parseInt(d[c].replace("%","")*a.windowWidth/100):h[c]=parseInt(d[c]):h[c]=d[c];f+=h[0],n-=h[1]}else{for(c=0;c<d.length;c++)"string"==typeof d[c]?d[c].includes("%")?h[c]=parseInt(d[c].replace("%","")*a.windowHeight/100):h[c]=parseInt(d[c]):h[c]=d[c];e+=h[0],k-=h[1]}}var y={el:b,id:j,class:p,section:i,top:e,middle:t,bottom:k,left:f,right:n,offset:d,progress:0,repeat:l,inView:!1,call:A,speed:r,delay:C,position:B,target:g,direction:D,sticky:o};a.els[j]=y,b.classList.contains(p)&&a.setInView(a.els[j],j),(!1!==r||o)&&(a.parallaxElements[j]=y)})}},{key:"addSections",value:function(){var b=this;this.sections={};var a=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===a.length&&(a=[this.el]),a.forEach(function(a,f){var d="string"==typeof a.dataset[b.name+"Id"]?a.dataset[b.name+"Id"]:"section"+f,c=a.getBoundingClientRect(),e={x:c.left-1.5*window.innerWidth-P(a).x,y:c.top-1.5*window.innerHeight-P(a).y},g={x:e.x+c.width+2*window.innerWidth,y:e.y+c.height+2*window.innerHeight},h="string"==typeof a.dataset[b.name+"Persistent"];a.setAttribute("data-scroll-section-id",d),b.sections[d]={el:a,offset:e,limit:g,inView:!1,persistent:h,id:d}})}},{key:"transform",value:function(b,d,e,c){var a;if(c){var f=P(b),g=O(f.x,d,c),h=O(f.y,e,c);a="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(g,",").concat(h,",0,1)")}else a="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(d,",").concat(e,",0,1)");b.style.webkitTransform=a,b.style.msTransform=a,b.style.transform=a}},{key:"transformElements",value:function(a){var b=this,c=arguments.length>1&& void 0!==arguments[1]&&arguments[1],d=this.instance.scroll.x+this.windowWidth,e=this.instance.scroll.y+this.windowHeight,f={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach(function(j){var i=q(j,2),g=(i[0],i[1]),h=!1;if(a&&(h=0),g.inView||c)switch(g.position){case"top":case"left":h=-(b.instance.scroll[b.directionAxis]*g.speed);break;case"elementTop":h=-((e-g.top)*g.speed);break;case"bottom":h=(b.instance.limit[b.directionAxis]-e+b.windowHeight)*g.speed;break;case"elementLeft":h=-((d-g.left)*g.speed);break;case"right":h=(b.instance.limit[b.directionAxis]-d+b.windowHeight)*g.speed;break;default:h=-((f[b.directionAxis]-g.middle[b.directionAxis])*g.speed)}g.sticky&&(h=g.inView?"horizontal"===b.direction?b.instance.scroll.x-g.left+window.innerWidth:b.instance.scroll.y-g.top+window.innerHeight:"horizontal"===b.direction?b.instance.scroll.x<g.left-window.innerWidth&&b.instance.scroll.x<g.left-window.innerWidth/2?0:b.instance.scroll.x>g.right&&b.instance.scroll.x>g.right+100&&g.right-g.left+window.innerWidth:b.instance.scroll.y<g.top-window.innerHeight&&b.instance.scroll.y<g.top-window.innerHeight/2?0:b.instance.scroll.y>g.bottom&&b.instance.scroll.y>g.bottom+100&&g.bottom-g.top+window.innerHeight),!1!==h&&("horizontal"===g.direction||"horizontal"===b.direction&&"vertical"!==g.direction?b.transform(g.el,h,0,!a&&g.delay):b.transform(g.el,0,h,!a&&g.delay))})}},{key:"scrollTo",value:function(a){var d,l=this,b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},c=parseInt(b.offset)||0,m=isNaN(parseInt(b.duration))?1e3:parseInt(b.duration),f=b.easing||[.25,0,.35,1],n=!!b.disableLerp,o=!!b.callback&&b.callback;if(f=(function(a,d,b,e){if(!(0<=a&&a<=1&&0<=b&&b<=1))throw new Error("bezier x values must be in [0, 1] range");if(a===d&&b===e)return V;for(var f=R?new Float32Array(11):new Array(11),c=0;c<11;++c)f[c]=$(.1*c,a,b);return function(c){return 0===c?0:1===c?1:$(function(d){for(var e=0,c=1;10!==c&&f[c]<=d;++c)e+=.1;var g=e+(d-f[--c])/(f[c+1]-f[c])*.1,h=U(g,a,b);return h>=.001?function(f,a,b,c){for(var d=0;d<4;++d){var e=U(a,b,c);if(0===e)break;a-=($(a,b,c)-f)/e}return a}(d,g,a,b):0===h?g:function(e,b,c,f,g){var d,a,h=0;do(d=$(a=b+(c-b)/2,f,g)-e)>0?c=a:b=a;while(Math.abs(d)>1e-7&& ++h<10)return a}(d,e,e+.1,a,b)}(c),d,e)}}).apply(void 0,function(a){if(Array.isArray(a))return s(a)}(d=f)||function(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}(d)||r(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),"string"==typeof a){if("top"===a)a=0;else if("bottom"===a)a=this.instance.limit.y;else if("left"===a)a=0;else if("right"===a)a=this.instance.limit.x;else if(!(a=document.querySelector(a)))return}else if("number"==typeof a)a=parseInt(a);else if(!a||!a.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof a){if(!Q(a).includes(this.el))return;var e,g=a.getBoundingClientRect(),i=g.top,j=g.left,h=Q(a).find(function(a){return Object.entries(l.sections).map(function(b){var a=q(b,2);return a[0],a[1]}).find(function(b){return b.el==a})});e=h?P(h)[this.directionAxis]:-this.instance.scroll[this.directionAxis],c="horizontal"===this.direction?j+c-e:i+c-e}else c=a+c;var k=parseFloat(this.instance.delta[this.directionAxis]),p=Math.max(0,Math.min(c,this.instance.limit[this.directionAxis]))-k,t=function(a){n?"horizontal"===l.direction?l.setScroll(k+p*a,l.instance.delta.y):l.setScroll(l.instance.delta.x,k+p*a):l.instance.delta[l.directionAxis]=k+p*a};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var u=Date.now();!function b(){var a=(Date.now()-u)/m;a>1?(t(1),l.animatingScroll=!1,0==m&&l.update(),o&&o()):(l.scrollToRaf=requestAnimationFrame(b),t(f(a)))}()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(a,b){this.instance=k(k({},this.instance),{},{scroll:{x:a,y:b},delta:{x:a,y:b},speed:0})}},{key:"destroy",value:function(){p(m(a.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),a}();return function(){function a(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{};f(this,a),this.options=b,Object.assign(this,t,b),this.smartphone=t.smartphone,b.smartphone&&Object.assign(this.smartphone,b.smartphone),this.tablet=t.tablet,b.tablet&&Object.assign(this.tablet,b.tablet),this.smooth||"horizontal"!=this.direction||console.warn("\u{1F6A8} `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("\u{1F6A8} `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("\u{1F6A8} `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return h(a,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new W(this.options):this.scroll=new w(this.options),this.scroll.init(),window.location.hash){var b=window.location.hash.slice(1,window.location.hash.length),a=document.getElementById(b);a&&this.scroll.scrollTo(a)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(a,b){this.scroll.scrollTo(a,b)}},{key:"setScroll",value:function(a,b){this.scroll.setScroll(a,b)}},{key:"on",value:function(a,b){this.scroll.setEvents(a,b)}},{key:"off",value:function(a,b){this.scroll.unsetEvents(a,b)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),a}()})